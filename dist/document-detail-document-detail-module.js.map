{"version":3,"sources":["webpack:///./src/app/layout/document-detail/document-detail-routing.module.ts","webpack:///./src/app/layout/document-detail/document-detail.component.html","webpack:///./src/app/layout/document-detail/document-detail.component.scss","webpack:///./src/app/layout/document-detail/document-detail.component.ts","webpack:///./src/app/layout/document-detail/document-detail.module.ts"],"names":[],"mappings":"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","file":"document-detail-document-detail-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { DocumentDetailComponent } from './document-detail.component';\n\nconst routes: Routes = [\n    {\n        path: '', component: DocumentDetailComponent\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class DocumentDetailRoutingModule {\n}\n","module.exports = \"<h2>Documents</h2>\\n<button  (click)=\\\"goToManageDocuments()\\\" class=\\\"btn btn-secondary btn-space float-right\\\">Back</button>\\n<div class=\\\"clearfix\\\"></div>\\n<hr>\\n\\n<form [formGroup]=\\\"documentForm\\\" (ngSubmit)=\\\"onSubmit(documentForm.value)\\\"  enctype=\\\"multipart/form-data\\\">\\n<div class=\\\"row\\\">\\n    <div class=\\\"col-md-12\\\">\\n        <div class=\\\"form-group\\\">\\n            <label> Document name</label>\\n            <input class=\\\"form-control\\\" formControlName='DocCaption'\\n                   [ngClass]=\\\"{ 'is-invalid': submitted && f.DocCaption.errors }\\\"/>\\n\\n            <div *ngIf=\\\"submitted && f.DocCaption.errors\\\" class=\\\"invalid-feedback\\\">\\n                <div *ngIf=\\\"f.DocCaption.errors.required\\\">Document is required</div>\\n            </div>\\n        </div>\\n\\n\\n        <div class=\\\"form-group\\\">\\n            <label> Upload</label>\\n            <input class=\\\"form-control\\\" formControlName='DocPath' type=\\\"file\\\"  (change)=\\\"uploadFile($event)\\\" placeholder=\\\"Upload file (upload only png, gif ,jpg)\\\" accept=\\\".pdf, .png, .gif, .jpg\\\"\\n                   [ngClass]=\\\"{ 'is-invalid': submitted && f.DocPath.errors }\\\"/>\\n            <div *ngIf=\\\"submitted && f.DocPath.errors\\\" class=\\\"invalid-feedback\\\">\\n                <div *ngIf=\\\"f.DocPath.errors.required\\\">File is required</div>\\n            </div>\\n        </div>\\n\\n\\n    </div>\\n\\n</div>\\n    <div class=\\\"form-group\\\">\\n        <input type=\\\"hidden\\\" class=\\\"form-control\\\" formControlName='ItemId' class=\\\"form-control\\\" />\\n        <button [disabled]=\\\"loading\\\" class=\\\"btn btn-primary\\\">{{btnName}}</button>\\n        <img *ngIf=\\\"loading\\\"\\n             src=\\\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\\\"/>\\n        <a onclick=\\\"window.history.back();\\\" class=\\\"btn btn-link\\\">Cancel</a>\\n    </div>\\n</form>\\n\"","module.exports = \"\"","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { FormBuilder,  FormGroup, Validators } from '@angular/forms';\nimport { AlertService } from '../../services/alert.service';\n\nimport { UploadService } from '../../services/upload.service';\n\nimport {DocumentService} from '../../services/document.service';\nimport {HttpEventType, HttpResponse} from '@angular/common/http';\n\n@Component({\n  selector: 'document-detail',\n  templateUrl: './document-detail.component.html',\n  styleUrls: ['./document-detail.component.scss']\n})\nexport class DocumentDetailComponent implements OnInit {\n\n\n    btnName = 'Submit';\n    documentForm: FormGroup;\n    loading = false;\n    submitted = false;\n    itemId: number;\n    documentId: number;\n    file: string;\n    constructor(\n        private formBuilder: FormBuilder,\n        private router: Router,\n        private alertService: AlertService,\n        private httpDocumentService: DocumentService,\n        private uploadService: UploadService,\n    ) { }\n\n    ngOnInit() {\n\n        this.buildForm();\n        this.documentId = 0;\n        this.itemId = Number(localStorage.getItem('itemId'));\n        this.documentId = Number(localStorage.getItem('documentId'));\n\n        if (this.documentId > 0 ) {\n            this.btnName='Update';\n            this.getDocumentDetail(this.documentId);\n\n        }\n   }\n\n    buildForm(){\n        this.documentForm = this.formBuilder.group({\n                    ItemId: [localStorage.getItem('itemId')],\n                    DocumentId: [this.documentId],\n                    DocCaption: ['', Validators.required],\n                    DocPath: ['', Validators.required],\n            }\n        );\n    }\n    private getDocumentDetail(documentId){\n\n        this.httpDocumentService.getDocumentDetail(documentId, true)\n            .subscribe((data:any) => {\n\n                this.documentForm.patchValue({\n                    ItemId: data.ItemId,\n                    DocumentId: data.DocumentId,\n                    DocCaption: data.DocCaption,\n                    DocPath: data.DocPath\n                });\n            });\n    }\n\n    // convenience getter for easy access to form fields\n    get f() { return this.documentForm.controls; }\n\n    onSubmit(documentDetail) {\n        this.submitted = true;\n\n        // stop here if form is invalid\n        if (this.documentForm.invalid) {\n            return;\n        }\n\n        documentDetail.ItemId = Number(localStorage.getItem('itemId'));\n        documentDetail.DocumentId = localStorage.getItem('documentId');\n        documentDetail.File = this.file;\n        documentDetail.DocPath = this.file;\n        this.loading = true;\n        this.httpDocumentService.create(documentDetail)\n            .subscribe(\n                data => {\n                    this.router.navigate(['./manage-documents']);\n                    this.alertService.success(this.documentId > 0 ?'Document updated successfully': 'Document save successfully', true);\n                    this.loading  = false;\n                },\n                error => {\n                    this.alertService.error(error);\n                    this.loading = false;\n                });\n    }\n\n\n    public goToManageDocuments() {\n        this.router.navigate(['manage-documents']);\n    }\n\n    public uploadFile(event) {\n        let fileList: FileList = event.target.files;\n\n        if (fileList.length == 0) {\n            console.log(\"No file selected!\");\n            return\n\n        }\n\n        // if (fileList.length > 0) {\n        //     this.file = fileList[0].name;\n        //     let file = fileList[0];\n        //     this.uploadService.uploadFile(\"Documents/Upload\", file, )\n        //         .subscribe(\n        //             event => {\n        //\n        //                 if (event.type == HttpEventType.UploadProgress) {\n        //                     const percentDone = Math.round(100 * event.loaded / event.total);\n        //                     console.log(`File is ${percentDone}% loaded.`);\n        //                 } else if (event instanceof HttpResponse) {\n        //                     console.log('File is completely loaded!');\n        //                 }\n        //             },\n        //             (err) => {\n        //                 console.log(\"Upload Error:\", err);\n        //             }, () => {\n        //                 console.log(\"Upload done\");\n        //             }\n        //         )\n        // }\n    }\n\n   // public uploadFile(event) {\n   //\n   //     let fileList: FileList = event.target.files;\n   //\n   //     if (fileList.length == 0) {\n   //         console.log(\"No file selected!\");\n   //         return\n   //\n   //     }\n   //\n   //     if (fileList.length > 0) {\n   //         let file: File = fileList[0];\n   //\n   //      this.uploadService.uploadFile(\"Documents/upload\", file)\n   //          .subscribe(\n   //              event => {\n   //                  if (event.type == HttpEventType.UploadProgress) {\n   //                      const percentDone = Math.round(100 * event.loaded / event.total);\n   //                      console.log(`File is ${percentDone}% loaded.`);\n   //                  } else if (event instanceof HttpResponse) {\n   //                      console.log('File is completely loaded!');\n   //                  }\n   //              },\n   //              (err) => {\n   //                  console.log(\"Upload Error:\", err);\n   //              }, () => {\n   //                  console.log(\"Upload done\");\n   //              }\n   //          )\n   //  }\n   //  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NgbCarouselModule, NgbAlertModule } from '@ng-bootstrap/ng-bootstrap';\nimport { DataTablesModule } from 'angular-datatables';\nimport { StatModule } from '../../shared';\nimport { DocumentDetailComponent } from './document-detail.component';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { DocumentDetailRoutingModule } from './document-detail-routing.module';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        NgbCarouselModule.forRoot(),\n        NgbAlertModule.forRoot(),\n        DocumentDetailRoutingModule,\n        StatModule,\n        DataTablesModule,\n        ReactiveFormsModule\n    ],\n    declarations: [DocumentDetailComponent]\n\n})\nexport class DocumentDetailModule {}\n"],"sourceRoot":""}