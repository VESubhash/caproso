{"version":3,"sources":["webpack:///./src/app/layout/affiliate-detail/affiliate-detail-routing.module.ts","webpack:///./src/app/layout/affiliate-detail/affiliate-detail.component.html","webpack:///./src/app/layout/affiliate-detail/affiliate-detail.component.scss","webpack:///./src/app/layout/affiliate-detail/affiliate-detail.component.ts","webpack:///./src/app/layout/affiliate-detail/affiliate-detail.module.ts"],"names":[],"mappings":"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","file":"affiliate-detail-affiliate-detail-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { AffiliateDetailComponent } from './affiliate-detail.component';\n\nconst routes: Routes = [\n\n    { path: '', component: AffiliateDetailComponent },\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class AffiliateDetailRoutingModule {\n}\n","module.exports = \"<h2>Affiliate Detail</h2>\\n<div *ngIf=\\\"affiliateId > 0 \\\">\\n    <button  onclick=\\\"window.history.back();\\\" (click)=\\\"goToManageAffiliates()\\\" class=\\\"btn btn-secondary btn-space float-right\\\">Back</button>\\n    <div class=\\\"float-left\\\">\\n        <button class=\\\"btn btn-primary btn-space\\\" (click)=\\\"goToOrganization()\\\" >Clients</button>\\n\\n    </div>\\n</div>\\n\\n<div class=\\\"clearfix\\\"></div>\\n<form [formGroup]=\\\"affiliateForm\\\" (ngSubmit)=\\\"onSubmit(affiliateForm.value)\\\">\\n\\n    <h5> Basic detail</h5>\\n    <hr>\\n    <div class=\\\"form-group\\\">\\n        <label>Affiliates Name</label>\\n        <input type=\\\"text\\\" formControlName=\\\"AffiliateName\\\" class=\\\"form-control\\\"\\n               [ngClass]=\\\"{ 'is-invalid': submitted && f.AffiliateName.errors }\\\"/>\\n        <div *ngIf=\\\"submitted && f.AffiliateName.errors\\\" class=\\\"invalid-feedback\\\">\\n            <div *ngIf=\\\"f.AffiliateName.errors.required\\\">Affiliate name is required</div>\\n        </div>\\n    </div>\\n    <div class=\\\"form-group\\\">\\n        <label>First Name</label>\\n        <input type=\\\"text\\\" formControlName=\\\"FirstName\\\" class=\\\"form-control\\\"\\n               [ngClass]=\\\"{ 'is-invalid': submitted && f.FirstName.errors }\\\"/>\\n        <div *ngIf=\\\"submitted && f.FirstName.errors\\\" class=\\\"invalid-feedback\\\">\\n            <div *ngIf=\\\"f.FirstName.errors.required\\\">First Name is required</div>\\n        </div>\\n    </div>\\n\\n    <div class=\\\"form-group\\\">\\n        <label>Last Name</label>\\n        <input type=\\\"text\\\" formControlName=\\\"LastName\\\" class=\\\"form-control\\\"\\n               [ngClass]=\\\"{ 'is-invalid': submitted && f.LastName.errors }\\\"/>\\n        <div *ngIf=\\\"submitted && f.LastName.errors\\\" class=\\\"invalid-feedback\\\">\\n            <div *ngIf=\\\"f.LastName.errors.required\\\">Last Name is required</div>\\n        </div>\\n    </div>\\n    <div class=\\\"form-group\\\" *ngIf=\\\"affiliateId == 0 \\\">\\n        <label>User Name(email)</label>\\n        <input type=\\\"text\\\" formControlName=\\\"UserName\\\" class=\\\"form-control\\\"\\n               [ngClass]=\\\"{ 'is-invalid': submitted && f.UserName.errors }\\\"  />\\n\\n        <div *ngIf=\\\"affiliateForm.get('UserName').hasError('isEmailUnique')\\\" class=\\\"error\\\">\\n            <div>This email has been registered already</div>\\n        </div>\\n\\n        <div *ngIf=\\\"submitted && f.UserName.errors\\\" class=\\\"invalid-feedback\\\">\\n            <div *ngIf=\\\"f.UserName.errors.required\\\">Username is required</div>\\n            <div *ngIf=\\\"f.UserName.errors?.email\\\">\\n                Email not valid.\\n            </div>\\n        </div>\\n        <input type=\\\"hidden\\\" formControlName=\\\"UserId\\\" class=\\\"form-control\\\"  />\\n        <input type=\\\"hidden\\\" formControlName=\\\"AffiliateId\\\" class=\\\"form-control\\\">\\n    </div>\\n    <div *ngIf=\\\"affiliateId == 0 \\\">\\n    <div class=\\\"form-group\\\">\\n        <label>Password</label>\\n        <input type=\\\"password\\\" formControlName=\\\"Password\\\" class=\\\"form-control\\\"\\n               [ngClass]=\\\"{ 'is-invalid': submitted && f.Password.errors }\\\"/>\\n        <div *ngIf=\\\"submitted && f.Password.errors\\\" class=\\\"invalid-feedback\\\">\\n            <div *ngIf=\\\"f.Password.errors.required\\\">Password is required</div>\\n            <div *ngIf=\\\"f.Password.errors.minlength\\\">Password must be at least 6 characters</div>\\n        </div>\\n    </div>\\n    <div class=\\\"form-group\\\">\\n        <label> Confirm Password</label>\\n        <input type=\\\"password\\\" formControlName=\\\"ConfirmPassword\\\" class=\\\"form-control\\\"\\n               [ngClass]=\\\"{ 'is-invalid': submitted && f.ConfirmPassword.errors }\\\"/>\\n        <div *ngIf=\\\"submitted && f.ConfirmPassword.errors\\\" class=\\\"invalid-feedback\\\">\\n            <div *ngIf=\\\"f.ConfirmPassword.errors.required\\\">Confirm password is required</div>\\n            <div *ngIf=\\\"f.ConfirmPassword.errors.minlength\\\">Password must be at least 6 characters</div>\\n        </div>\\n        <span *ngIf=\\\"affiliateForm.get('ConfirmPassword').hasError('isConfirmPasswordMatch')\\\" class=\\\"error\\\">\\n              Confirm password doesn't match\\n            </span>\\n\\n    </div>\\n    </div>\\n    <h5> Phone</h5>\\n    <hr>\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-md-6\\\">\\n            <div class=\\\"form-group\\\">\\n                <label> Phone 1 </label>\\n                <input type=\\\"text\\\"  class=\\\"form-control\\\" formControlName='Phone' class=\\\"form-control\\\"\\n                       [ngClass]=\\\"{ 'is-invalid': submitted && f.Phone.errors }\\\"/>\\n                <div *ngIf=\\\"submitted && f.Phone.errors\\\" class=\\\"invalid-feedback\\\">\\n                    <div *ngIf=\\\"f.Phone.errors.required\\\">phone 1 is required</div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\\"col-md-6\\\">\\n            <div class=\\\"form-group\\\">\\n                <label> Phone 2</label>\\n                <input class=\\\"form-control\\\" formControlName='Phone2' class=\\\"form-control\\\"\\n                       [ngClass]=\\\"{ 'is-invalid': submitted && f.Phone2.errors }\\\"/>\\n                <div *ngIf=\\\"submitted && f.Phone2.errors\\\" class=\\\"invalid-feedback\\\">\\n                    <div *ngIf=\\\"f.Phone2.errors?.minlength\\\">Invalid Phone, Phone must be minimum 12 character long. example- 111-111-1111 </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"form-group\\\">\\n\\n        <button [disabled]=\\\"loading\\\" class=\\\"btn btn-primary\\\">{{btnName}}</button>\\n        <img *ngIf=\\\"loading\\\"\\n             src=\\\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\\\"/>\\n        <a  (click)=\\\"goToManageAffiliates()\\\"  class=\\\"btn btn-link\\\">Cancel</a>\\n    </div>\\n\\n</form>\\n\\n\\n\"","module.exports = \"h5 {\\n  color: #00b3ee; }\\n\\n.error {\\n  color: red; }\\n\\n.btn-space {\\n  margin-right: 5px; }\\n\"","import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {FormBuilder, FormControl, FormGroup, ValidationErrors, Validators} from '@angular/forms';\nimport {AlertService} from '../../services/alert.service';\nimport {TagsService} from '../../services/tag.service';\nimport {AffiliatesService} from '../../services/affiliates.service';\n\n@Component({\n    selector: 'affiliate-detail',\n    templateUrl: './affiliate-detail.component.html',\n    styleUrls: ['./affiliate-detail.component.scss']\n})\nexport class AffiliateDetailComponent implements OnInit {\n    rolesModel: any;\n\n    btnName = 'Submit';\n    affiliateForm: FormGroup;\n    loading = false;\n    submitted = false;\n    affiliateId = 0;\n    contactId: number;\n\n     constructor(\n        private formBuilder: FormBuilder,\n        private router: Router,\n        private alertService: AlertService,\n        private httpTagsService: TagsService,\n        private affiliateService: AffiliatesService,\n        private route: ActivatedRoute\n    ) {\n    }\n\n    ngOnInit() {\n        this.affiliateId = Number(localStorage.getItem('affiliateId'));\n        this.buildForm();\n\n\n        if (this.affiliateId > 0) {\n            this.btnName = 'Update';\n            this.getAffiliateDetail(this.affiliateId);\n\n        }\n        else {\n\n        }\n        this.getRoleList();\n    }\n\n\n    buildForm() {\n        if(this.affiliateId > 0 )\n        {\n            this.affiliateForm = this.formBuilder.group({\n                UserId:[0],\n                AffiliateId:[0],\n                FirstName: ['', [Validators.required, Validators.maxLength(30)]],\n                LastName: ['', [Validators.required, Validators.maxLength(80)]],\n            //    UserName: ['', [Validators.required, Validators.email, Validators.maxLength(75)], this.isEmailUnique.bind(this)],\n                AffiliateName: ['',  [Validators.required, Validators.maxLength(100)]],\n                Phone: ['', Validators.required],\n                Phone2: ['', Validators.minLength(12)],\n            });\n        }\n        else\n        {\n            this.affiliateForm = this.formBuilder.group({\n                UserId:[0],\n                AffiliateId:[0],\n                FirstName: ['', [Validators.required, Validators.maxLength(30)]],\n                LastName: ['', [Validators.required, Validators.maxLength(80)]],\n                UserName: ['', [Validators.required, Validators.email, Validators.maxLength(75)], this.isEmailUnique.bind(this)],\n                AffiliateName: ['', [Validators.required, Validators.maxLength(100)]],\n                Phone: ['', Validators.required],\n                Phone2: ['', Validators.minLength(12)],\n                ConfirmPassword: ['',[ Validators.required, Validators.minLength(3)], this.pwdMatchValidator.bind(this)],\n                Password: ['', [Validators.required, Validators.minLength(3)]],\n            });\n        }\n    }\n\n    // convenience getter for easy access to form fields\n    get f() {\n        return this.affiliateForm.controls;\n    }\n\n    onSubmit(detail) {\n        this.submitted = true;\n        this.getFormValidationErrors(this.affiliateForm);\n        if (this.affiliateForm.invalid) {\n            return;\n        }\n        else {\n            this.loading = true;\n            this.affiliateService.create(detail)\n                .subscribe(\n                    data => {\n                        let roleName = localStorage.getItem('roleName');\n                        this.alertService.success(this.affiliateId > 0 ? 'affiliate updated successfully' : 'affiliates registered successfully', true);\n                        if (roleName == 'Admin') {\n                            this.router.navigate(['./manage-affiliates']);\n                        }\n                        else {\n                            this.router.navigate(['./affiliate-detail']);\n                        }\n                        this.loading = false;\n                    },\n                    error => {\n                        this.alertService.error(error);\n                        this.loading = false;\n                    });\n        }\n\n    }\n\n    getFormValidationErrors(fg: FormGroup) {\n        Object.keys(fg.controls).forEach(key => {\n\n            const controlErrors: ValidationErrors = fg.get(key).errors;\n            if (controlErrors != null) {\n                Object.keys(controlErrors).forEach(keyError => {\n                    console.log('Key control: ' + key + ', keyError: ' + keyError + ', err value: ', controlErrors[keyError]);\n                });\n            }\n        });\n    }\n\n    private getAffiliateDetail(userId) {\n\n        this.affiliateService.getAffiliateDetailByUserId(userId, true)\n            .subscribe((userData: any) => {\n                this.contactId = userData.ContactId;\n                this.affiliateForm.patchValue({\n                    UserId: userData.UserId,\n                    AffiliateId: userData.AffiliateId,\n                    AffiliateName: userData.AffiliateName,\n                    FirstName: userData.FirstName,\n                    LastName: userData.LastName,\n                    UserName: userData.UserName,\n                    UserRoleId: userData.UserRoleId,\n                    Phone: userData.Phone,\n                    Phone2: userData.Phone2,\n                });\n            });\n\n\n    }\n\n    private getRoleList() {\n        this.httpTagsService.getTagsByType('Customer Role', true)\n            .subscribe(roles => {\n                this.rolesModel = roles;\n            });\n    }\n\n    public isEmailUnique(control: FormControl) {\n\n        const q = new Promise((resolve) => {\n            if (this.affiliateId == 0) {\n                setTimeout(() => {\n                    this.affiliateService.isEmailRegisterd(control.value).subscribe(data => {\n                        if (data == null) {\n                            resolve(null);\n                        }\n                        else {\n                            resolve({'isEmailUnique': true});\n                        }\n\n                    }, () => {\n                        resolve({'isEmailUnique': false});\n                    });\n                }, 1000);\n            }\n        });\n        return q;\n\n\n    }\n\n    pwdMatchValidator(control: FormControl) {\n        const q = new Promise((resolve) => {\n            this.affiliateForm.get('Password').value === control.value\n                ? resolve(null) : resolve({'isConfirmPasswordMatch': true});\n        });\n        return q;\n    }\n\n\n    public goToOrganization(affiliateId) {\n\n        this.router.navigate(['manage-organizations']);\n\n    }\n    public  goToManageAffiliates(){\n        localStorage.removeItem('organizationId' );\n        this.router.navigate(['manage-affiliates']);\n    }\n}\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NgbCarouselModule, NgbAlertModule } from '@ng-bootstrap/ng-bootstrap';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { DataTablesModule } from 'angular-datatables';\nimport { StatModule } from '../../shared';\nimport { AffiliateDetailComponent } from './affiliate-detail.component';\nimport { AffiliateDetailRoutingModule } from './affiliate-detail-routing.module';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        NgbCarouselModule.forRoot(),\n        NgbAlertModule.forRoot(),\n        AffiliateDetailRoutingModule,\n        StatModule,\n        DataTablesModule,\n        ReactiveFormsModule\n\n    ],\n    declarations: [AffiliateDetailComponent\n\n    ]\n})\nexport class AffiliateDetailModule {}\n\n\n\n"],"sourceRoot":""}